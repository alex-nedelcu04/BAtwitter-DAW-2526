
<h2 class="text-center">Flock Feed</h2>

<br />

@foreach (var flock in ViewBag.Flocks)
{
    <partial name="FlockInfo" model="flock" />
}

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            document.querySelectorAll('.flock-card').forEach(function (card) {
                card.addEventListener('click', function (e) {
                    // Navigate only if clicking on the card itself, not on links or buttons
                    if (e.target.closest('a, button, video')) {
                        return;
                    }

                    const url = card.getAttribute('data-flock-url');
                    if (url) {
                        window.location.href = url;
                    }
                });
            });
        });
    </script>
}