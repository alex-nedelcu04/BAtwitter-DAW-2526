@model BAtwitter_DAW_2526.Models.UserProfile

<partial name="UserProfileInfo" model="@Model" />

@* Model.Id == ViewBag.CurrentUser || !ViewBag.IsPrivateAccount || (ViewBag.IsPrivateAccount && Model.Id != ViewBag.CurrentUser && ViewBag.IsFollowing) *@

@if (ViewBag.IsBlockedBy && !User.IsInRole("Admin"))
{
    <small class="d-flex flex-row mt-3 mb-1 p-3 rounded-3 text-center justify-content-center alert alert-secondary text-muted fst-italic">
        You have been blocked by this user.
    </small>
}

@* Afiseaza postarile daca nu esti blocat de utilizator, nu ai blocat utilizatorul (sau esti admin) *@
@if (User.IsInRole("Admin") || !ViewBag.IsBlockedBy)
{
    @if (ViewBag.IsPrivateAccount && Model.Id != ViewBag.CurrentUser && !ViewBag.IsFollowing && !User.IsInRole("Admin"))
    {
        <small class="d-flex flex-row mt-3 mb-1 p-3 rounded-3 text-center justify-content-center alert alert-secondary text-muted fst-italic">
            This profile is private.
        </small>
    }
    else
    {
        if (ViewBag.HasBlocked)
        {
            <small class="d-flex flex-row mt-3 mb-3 p-3 rounded-3 text-center justify-content-center alert alert-secondary text-muted fst-italic">
                You have blocked this user.
            </small>
        }

        @foreach (var echo in ViewBag.UserEchoes)
        {
            <partial name="EchoInfo" model="echo" />
        }
    }
}
